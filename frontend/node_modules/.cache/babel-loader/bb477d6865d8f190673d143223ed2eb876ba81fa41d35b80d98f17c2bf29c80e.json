{"ast":null,"code":"import { visit } from \"./visitor.mjs\";\nimport EphemeralArray from \"./ast/ephemeral-array.mjs\";\nimport EphemeralObject from \"./ast/ephemeral-object.mjs\";\nimport { isElement, isBooleanElement, isNumberElement, isStringElement, isNullElement } from \"../../../predicates/index.mjs\";\n/* eslint-disable class-methods-use-this */\nclass Visitor {\n  ObjectElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralObject(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralObject = {\n    leave: ephemeral => {\n      return ephemeral.toObject();\n    }\n  };\n  MemberElement = {\n    enter: element => {\n      return [element.key, element.value];\n    }\n  };\n  ArrayElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralArray(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralArray = {\n    leave: ephemeral => {\n      return ephemeral.toArray();\n    }\n  };\n  references = new WeakMap();\n  BooleanElement(element) {\n    return element.toValue();\n  }\n  NumberElement(element) {\n    return element.toValue();\n  }\n  StringElement(element) {\n    return element.toValue();\n  }\n  NullElement() {\n    return null;\n  }\n  RefElement(element, ...rest) {\n    var _ancestors;\n    const ancestors = rest[3];\n    if (((_ancestors = ancestors[ancestors.length - 1]) === null || _ancestors === void 0 ? void 0 : _ancestors.type) === 'EphemeralObject') {\n      return Symbol.for('delete-node');\n    }\n    return String(element.toValue());\n  }\n  LinkElement(element) {\n    if (isStringElement(element.href)) {\n      return element.href.toValue();\n    }\n    return '';\n  }\n}\nconst serializer = element => {\n  if (!isElement(element)) return element;\n\n  // shortcut optimization for certain element types\n  if (isStringElement(element) || isNumberElement(element) || isBooleanElement(element) || isNullElement(element)) {\n    return element.toValue();\n  }\n  return visit(element, new Visitor());\n};\nexport default serializer;","map":{"version":3,"names":["visit","EphemeralArray","EphemeralObject","isElement","isBooleanElement","isNumberElement","isStringElement","isNullElement","Visitor","ObjectElement","enter","element","references","has","get","toReference","ephemeral","content","set","leave","toObject","MemberElement","key","value","ArrayElement","toArray","WeakMap","BooleanElement","toValue","NumberElement","StringElement","NullElement","RefElement","rest","_ancestors","ancestors","length","type","Symbol","for","String","LinkElement","href","serializer"],"sources":["/home/mikezvz/Documents/GitHub/InsuranceCalculator/frontend/node_modules/@swagger-api/apidom-core/es/transformers/serializers/value/index.mjs"],"sourcesContent":["import { visit } from \"./visitor.mjs\";\nimport EphemeralArray from \"./ast/ephemeral-array.mjs\";\nimport EphemeralObject from \"./ast/ephemeral-object.mjs\";\nimport { isElement, isBooleanElement, isNumberElement, isStringElement, isNullElement } from \"../../../predicates/index.mjs\";\n/* eslint-disable class-methods-use-this */\nclass Visitor {\n  ObjectElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralObject(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralObject = {\n    leave: ephemeral => {\n      return ephemeral.toObject();\n    }\n  };\n  MemberElement = {\n    enter: element => {\n      return [element.key, element.value];\n    }\n  };\n  ArrayElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralArray(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralArray = {\n    leave: ephemeral => {\n      return ephemeral.toArray();\n    }\n  };\n  references = new WeakMap();\n  BooleanElement(element) {\n    return element.toValue();\n  }\n  NumberElement(element) {\n    return element.toValue();\n  }\n  StringElement(element) {\n    return element.toValue();\n  }\n  NullElement() {\n    return null;\n  }\n  RefElement(element, ...rest) {\n    var _ancestors;\n    const ancestors = rest[3];\n    if (((_ancestors = ancestors[ancestors.length - 1]) === null || _ancestors === void 0 ? void 0 : _ancestors.type) === 'EphemeralObject') {\n      return Symbol.for('delete-node');\n    }\n    return String(element.toValue());\n  }\n  LinkElement(element) {\n    if (isStringElement(element.href)) {\n      return element.href.toValue();\n    }\n    return '';\n  }\n}\nconst serializer = element => {\n  if (!isElement(element)) return element;\n\n  // shortcut optimization for certain element types\n  if (isStringElement(element) || isNumberElement(element) || isBooleanElement(element) || isNullElement(element)) {\n    return element.toValue();\n  }\n  return visit(element, new Visitor());\n};\nexport default serializer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}