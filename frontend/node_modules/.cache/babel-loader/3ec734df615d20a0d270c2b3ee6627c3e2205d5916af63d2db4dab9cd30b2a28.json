{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Row,Col,Button,Card,Form,Alert}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[showError,setShowError]=useState(false);const[username,setUsername]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const handleLogin=async()=>{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password}),credentials:'include'});if(response.ok){console.log('Login successful');navigate('/account');}else{setShowError(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[showError&&/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",onClose:()=>setShowError(false),dismissible:true,children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Login failed\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Incorrect username and/or password\"})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(Row,{className:\"login-row\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{className:\"logincard\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Form,{className:\"login\",children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"username\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Your Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"username\",value:username,onChange:event=>setUsername(event.target.value)})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Your Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"password\",value:password,onChange:event=>setPassword(event.target.value)})]})]})})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:handleLogin,children:\"Login\"})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Row","Col","Button","Card","Form","Alert","jsx","_jsx","jsxs","_jsxs","Login","showError","setShowError","username","setUsername","password","setPassword","navigate","handleLogin","response","fetch","concat","process","env","REACT_APP_BACKEND_URL","method","headers","body","JSON","stringify","credentials","ok","console","log","className","children","variant","onClose","dismissible","Heading","Body","Group","controlId","Label","Control","type","placeholder","value","onChange","event","target","onClick"],"sources":["/home/mikezvz/Documents/GitHub/InsuranceCalculator/frontend/src/routes/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Row, Col, Button, Card, Form, Alert } from 'react-bootstrap';\n\nfunction Login() {\n  const [showError, setShowError] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ username, password }),\n      credentials: 'include' \n    });\n\n    if (response.ok) {\n      console.log('Login successful'); \n      navigate('/account');\n    } else {\n      setShowError(true);\n    }\n  };\n\n  return (\n    <div className='Login'>\n      {showError && (\n        <Alert variant=\"danger\" onClose={() => setShowError(false)} dismissible>\n          <Alert.Heading>Login failed</Alert.Heading>\n          <p>Incorrect username and/or password</p>\n        </Alert>\n      )}\n      <Row>\n        <Col>\n          <h1>Login</h1>\n          <br />\n        </Col>\n      </Row>\n      <Row className='login-row'>\n        <Col>\n          <Card className=\"logincard\">\n            <Card.Body>\n              <Form className=\"login\">\n                <Form.Group controlId=\"username\">\n                  <Form.Label>Your Username</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"username\"\n                    value={username}\n                    onChange={(event) => setUsername(event.target.value)}\n                  />\n                </Form.Group>\n                <br />\n                <Form.Group controlId=\"password\">\n                  <Form.Label>Your Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"password\"\n                    value={password}\n                    onChange={(event) => setPassword(event.target.value)}\n                  />\n                </Form.Group>\n              </Form>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <br />\n          <Button onClick={handleLogin}>Login</Button>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}